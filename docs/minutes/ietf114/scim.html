<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IETF Meeting Minutes</title>
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <header class="site-header">
      <div class="header-content">
        <a href="/">
          <img src="/img/logo.jpg" alt="Logo" width="150" height="150">
        </a>
        <div class="header-text">
          <h1>Automatic IETF Minutes</h1>
          <p class="subtitle">Automatically generated minutes for IETF meetings</p>
        </div>
        <nav class="header-nav">
          <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>
          <ul class="menu">
            <li><a href="/">Home</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="https://github.com/ekr/auto-minutes">Source</a></li>
            <li><a href="/license">License</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <main class="main-content">
      <p><a href="scim.txt">Markdown Version</a> | <a href="https://meetecho-player.ietf.org/playout/?session=IETF114-SCIM-20220729-1630">Session Recording</a></p>
<p><strong>Session Date/Time:</strong> 29 Jul 2022 16:30</p>
<h1>scim</h1>
<h2>Summary</h2>
<p>The SCIM working group session at IETF 114 covered updates on the recently adopted SCIM Events draft and a new Use Cases document. A significant portion of the session was dedicated to reviewing existing drafts (cursor-based pagination, multi-valued attribute pagination, soft deletion, roles/entitlements) and introducing new topics (change detection, HR schema, account status context, reference URL improvements, security profile). A primary technical discussion revolved around different approaches to data synchronization and change notification, specifically comparing event-based mechanisms (SCIM Events) with polling-based methods (cursor-based pagination and delta queries), and the need for the working group to align on these strategies.</p>
<h2>Key Discussion Points</h2>
<ul>
<li>
<p><strong>SCIM Use Cases Document Update</strong>:</p>
<ul>
<li>A new Use Cases document in HackMD format was presented.</li>
<li>It defines terminology not found in RFCs 7643/7644 (e.g., SCIM Service Provider, SCIM Client, SCIM Schema, SCIM Protocol), industry definitions, concepts (units of work), and business scenarios (end-to-end activities).</li>
<li>The document will be published to the data tracker soon for review and feedback on the mailing list.</li>
</ul>
</li>
<li>
<p><strong>Editor's Role for SCIM Schemas and Protocols</strong>:</p>
<ul>
<li>Danny Zolner and Janelle are volunteering as editors for updates and additions to SCIM schemas and protocols.</li>
</ul>
</li>
<li>
<p><strong>Existing Drafts (Discussion for Adoption/Feedback)</strong>:</p>
<ul>
<li><strong>Cursor-Based Pagination (Draft)</strong>:
<ul>
<li>Matt Peterson's expired draft was discussed, proposing <code>cursor</code>, <code>count</code>, <code>nextCursor</code>, <code>previousCursor</code> parameters.</li>
<li><strong>Use Case</strong>: Traversing very large result sets (millions of entries) for massive scale operations.</li>
<li>Comparison with SCIM Events approach was noted, to be discussed further.</li>
</ul>
</li>
<li><strong>Multi-Valued Attribute Pagination and Filtering (Draft)</strong>:
<ul>
<li>Phil Hunt's draft extends complex multi-value attribute sub-attribute filtering to the <code>attributes</code> parameter, allowing paging of attribute values (e.g., members of a large group) rather than resources.</li>
<li><strong>Complexity</strong>: Determining total number of rows.</li>
<li>Alternative proposal by Matt Peterson: Represent group memberships as new top-level resources (<code>/groupMemberships</code>, <code>/userGroups</code>) to leverage existing resource pagination logic.</li>
</ul>
</li>
<li><strong>Soft Deletion (Draft)</strong>:
<ul>
<li>Discussed Morteza Cortez's expired draft, introducing an <code>isSoftDeleted</code> attribute and query parameter.</li>
<li><strong>Problem</strong>: Current SCIM protocol (RFC 7644) dictates a 404 for deleted resources. This draft aims to override that behavior to query soft-deleted resources.</li>
<li><strong>Concerns</strong>: Security implications (trolling old links, access control for soft-deleted data), need for clear distinction and definition of &quot;soft delete&quot; vs. &quot;hard delete,&quot; and server capability.</li>
<li><strong>Use Case</strong>: User lifecycle management, allowing resurrection of users while maintaining resource identifiers.</li>
</ul>
</li>
<li><strong>Roles and Entitlements (Draft)</strong>:
<ul>
<li>Danny Zolner's draft (v02 recently published) adds <code>/roles</code> and <code>/entitlements</code> resource types.</li>
<li><strong>Purpose</strong>: Enable SCIM clients to discover available role/entitlement values, especially in multi-tenanted SaaS applications where these values are customizable.</li>
<li><strong>Features (v02)</strong>: Support for hierarchy of roles/entitlements and numerical availability (e.g., licensed seats).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>New Topics (No Drafts Yet)</strong>:</p>
<ul>
<li><strong>Change Detection / Delta Query</strong>:
<ul>
<li><strong>Use Case</strong>: Accurate tracking of data changes for large-scale data manipulation, particularly in pull-based scenarios (e.g., HR providers).</li>
<li><strong>Limitations of <code>meta.lastModified</code></strong>: Time drift in distributed systems.</li>
<li><strong>Proposal</strong>: <code>deltaToken</code> parameter for <code>GET</code> requests (e.g., <code>GET /users?deltaToken=...</code>).</li>
<li><strong>Industry Precedent</strong>: Other REST APIs use delta query mechanisms.</li>
</ul>
</li>
<li><strong>Human Resources Schema</strong>:
<ul>
<li><strong>Goal</strong>: A unified, generic HR schema for SCIM to standardize data labeling across HR providers.</li>
<li><strong>Need</strong>: Significant involvement from HR system implementers to ensure accuracy and utility.</li>
</ul>
</li>
<li><strong>Account Status Context</strong>:
<ul>
<li><strong>Proposal</strong>: Expand the <code>active</code> boolean attribute with a complex <code>accountStatus</code> attribute to represent granular user states (e.g., pre-hire, on leave (paid/unpaid), terminated).</li>
<li><strong>Alignment</strong>: Desire to align with states from the Shared Signals community.</li>
</ul>
</li>
<li><strong>Reference URLs Improvement</strong>:
<ul>
<li><strong>Problem</strong>: Inadequate specification for handling <code>Reference</code> data types, especially for URLs (e.g., <code>photos</code> attribute).</li>
<li><strong>Concerns</strong>: Hotlinking performance/cost, security of URLs (ensuring only authorized SCIM Service Providers can access).</li>
<li><strong>Current Spec</strong>: Silent on security/post-provisioning behavior, leaving it to implementers, leading to inconsistent or insecure practices.</li>
<li><strong>Potential Solutions</strong>: Embedded data (data URIs), trusted proxies, or clearer security considerations.</li>
</ul>
</li>
<li><strong>Security Profile</strong>:
<ul>
<li><strong>Goal</strong>: Tighten SCIM security aspects, updating for post-2015 internet landscape.</li>
<li><strong>Proposals</strong>: Strongly discourage basic authentication, re-evaluate or strongly advise against the <code>password</code> attribute on the user resource.</li>
<li><strong>Current Spec</strong>: Already advises against basic auth (&quot;should be avoided&quot;).</li>
<li><strong>Debate</strong>: Removal of <code>password</code> attribute is complex, as some use cases (e.g., acting as a directory for OpenID providers) exist. Broader discussion on credential schema and MFA.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Coordination Use Cases: Paging vs. Events (Core Debate)</strong>:</p>
<ul>
<li><strong>Phil Hunt's Presentation (Events Perspective)</strong>:
<ul>
<li><strong>Overall Scenario</strong>: Independent administrative domains with lifecycle relationships (e.g., employee termination) requiring coordination.</li>
<li><strong>Cursor Paging</strong>: Periodically polling for logical copies of entire database for reconciliation.
<ul>
<li><strong>Concerns</strong>: High raw cost for billions of users, high data exposure, potential server thrashing/memory issues for service providers with many tenants. Max results should limit total, not page, results.</li>
</ul>
</li>
<li><strong>Event-Based System (SCIM Events)</strong>: Server issues security event tokens (JOTs) in real-time through a message bus or SET Transfer Protocol.
<ul>
<li><strong>Benefits</strong>: Near real-time change notices, minimal information sharing (notice of ID change, client fetches if needed), support for async signaling (bulk completion), security events (risk signals).</li>
<li><strong>Design</strong>: Receiver decides what action to take; publisher's responsibility for event persistence is limited post-acknowledgment.</li>
</ul>
</li>
<li><strong>Additional Use Cases for Events</strong>: Bootstrap/Recovery (cross-domain), Internal Domain Replication (all information), Bi-directional Event Coordination (moving away from master/slave), Risk Sharing Events (password reset, suspicious activity).</li>
</ul>
</li>
<li><strong>Danny Zolner's Response (Pagination Perspective)</strong>:
<ul>
<li><strong>Pagination Benefit</strong>: For a limited period, a cursor can be replayed if a receiver has infrastructure problems (VM failure, etc.), aiding recovery.</li>
<li><strong>Infrastructure Simplicity</strong>: Cursor-based pagination is simpler to implement for a SCIM Service Provider than setting up a full shared signals processing infrastructure.</li>
<li><strong>Native Support</strong>: Many identity databases natively support cursor-based pagination.</li>
<li><strong>Combined Approach</strong>: Cursor-based pagination <em>with</em> a delta query mechanism (similar to LDAP changelog but without its security pitfalls) for large-scale changes.</li>
<li><strong>Events Use Case (Narrower)</strong>: High-priority, urgent communications (e.g., immediate termination notice from HR) where polling is too slow.</li>
</ul>
</li>
<li><strong>Community Input (Ling and others)</strong>:
<ul>
<li>Many believe <strong>both</strong> cursor-based pagination and events have unique use cases and are needed. Event publishing should be the primary mechanism for efficient data sync, but pagination serves other needs.</li>
<li><strong>Implementation Pattern</strong>: Implementers often start with search/cursor-based pagination due to immediate use cases, and later add event channels for real-time needs or scalability issues.</li>
<li><strong>Overhead</strong>: Question posed to implementers/deployers if they are willing to absorb the overhead of supporting both mechanisms.</li>
<li><strong>Fallback</strong>: Full export/import is sometimes still necessary to resolve complex data stream issues.</li>
</ul>
</li>
<li><strong>Phil's Counterpoints</strong>:
<ul>
<li>HTTP E-tags (RFC 7232) and <code>meta.lastModified</code> attribute (with some temporal padding) already offer existing mechanisms for change detection at a resource or collection level, respectively, without new specs.</li>
<li>Concern that if paging is offered, event signaling will be neglected, leading to interoperability issues as half the community adopts one, half the other.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Decisions and Action Items</h2>
<ul>
<li><strong>SCIM Events Draft Adoption</strong>: The working group has adopted the SCIM Events draft. Nancy and Mike have volunteered as co-authors; others are welcome.</li>
<li><strong>Use Cases Document</strong>:
<ul>
<li>To be published to the data tracker soon.</li>
<li>Solicit review and feedback on the mailing list.</li>
</ul>
</li>
<li><strong>Existing Drafts (Pagination, Multi-value Pagination, Soft Delete, Roles/Entitlements)</strong>: Authors are encouraged to post to the mailing list and solicit feedback/comments from the community to gauge interest for adoption calls. Chairs will look for at least three non-author individuals to provide constructive feedback.</li>
<li><strong>Pagination vs. Events Comparison Chart</strong>: Phil Hunt, Danny Zolner, and Matt Peterson (if available) are encouraged to update the comparison chart to include all options and their respective pros/cons, to facilitate further discussion.</li>
<li><strong>Mailing List Discussion</strong>: A question will be formally posed to the mailing list: Are implementers and deployers willing to absorb the overhead of supporting both cursor-based pagination and event-based notification mechanisms, given their respective use cases and the desire for interoperability?</li>
</ul>
<h2>Next Steps</h2>
<ul>
<li>The Chairs will update the working group milestones, potentially stretching out the timeline for the Use Cases document if it remains a living document.</li>
<li>The Chairs will discuss whether the future SCIM protocol and schema extensions will be one or several drafts.</li>
<li>An interim meeting will be scheduled, likely in September, with a Doodle poll to determine the date.</li>
<li>The working group looks forward to IETF 115 in London.</li>
</ul>

      
    </main>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const toggle = document.querySelector('.menu-toggle');
        const menu = document.querySelector('.menu');

        toggle.addEventListener('click', function(e) {
          e.stopPropagation();
          menu.classList.toggle('show');
        });

        // Close menu when clicking outside
        document.addEventListener('click', function() {
          menu.classList.remove('show');
        });

        // Prevent menu from closing when clicking inside it
        menu.addEventListener('click', function(e) {
          e.stopPropagation();
        });
      });
    </script>
  </body>
</html>
