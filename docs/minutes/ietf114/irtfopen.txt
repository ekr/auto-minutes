**Session Date/Time:** 25 Jul 2022 19:00

# irtfopen

## Summary

The IRTF Open Meeting commenced with introductory remarks from the IRTF Chair, covering IETF/IRTF procedures, IPR policies, and meeting logistics. Updates were provided on IRTF Research Groups and the Applied Networking Research Prize (ANRP). The session primarily featured two ANRP award talks: Tushar Swami presented "Taurus: A Data Plane Architecture for Per-Packet Machine Learning," detailing how to integrate ML inference directly into network data planes. Sam Kumar followed with "Performant TCP for Low-Power Wireless Networks," outlining how a re-engineered TCP stack (tcplp) can overcome challenges in LowPAN environments, thus enabling full TCP/IP functionality for embedded devices.

## Key Discussion Points

### IRTF Introduction and Updates
*   **Procedural Reminders**: The IRTF Chair (remote) reminded participants of IETF's Intellectual Property Rights (IPR) disclosure rules, meeting recording policies (including live streaming to YouTube), code of conduct, and anti-harassment procedures.
*   **Meeting Logistics**: In-person attendees were requested to sign in via Meetecho Light, use the electronic queue for questions, and maintain FFP2/N95 mask-wearing (except for active speakers). Remote participants were asked to keep audio/video off unless presenting or asking questions.
*   **IRTF Mission**: The IRTF focuses on longer-term research issues to complement IETF's standards work. Its primary outputs are research papers and understanding, not standards documents, though it publishes experimental and informational RFCs.
*   **Research Group News**:
    *   **GAIA RG**: Welcomed Curtis Heimerl as new co-chair, joining Jane Coffin. Leandro Navarro is stepping down after this meeting.
    *   **RFC Publication**: One RFC was published since the last meeting, from the Information Centric Networking (ICN) RG, on architectural considerations for an ICN main resolution service.
*   **Applied Networking Research Prize (ANRP)**:
    *   **Purpose**: Recognizes recent results in applied networking research relevant to internet standards, identifies promising new ideas, and highlights up-and-coming researchers.
    *   **Sponsorship**: Gratefully sponsored by the Internet Society, Comcast, and NBC Universal.
    *   **Current Awardees**: Tushar Swami and Sam Kumar were congratulated and presented their award talks during this session.
    *   **Future ANRP Talks**: Sumi Kasha and Daniel Wagner are scheduled to give ANRP talks at IETF 115.
    *   **2023 Nominations**: Nominations for the 2023 ANRP awards will open in September 2022.
*   **Applied Networking Research Workshop (ANRW)**:
    *   **Event Details**: Co-located with ACM SIGCOMM, the workshop is scheduled for tomorrow in Philadelphia.
    *   **Chairs**: TJ Chang and Marwan Fayed.
    *   **Program**: Features four research papers, a keynote, and innovative talks on novel approaches to protocol specification.
    *   **Registration**: Free for IETF registrants, but separate registration is required.
    *   **ANRW 2023**: Will be co-located with IETF in July 2023 in San Francisco.
*   **Travel Grants**:
    *   **Purpose**: Offered to support early-career academics/PhD students from underrepresented groups to attend IRTF RGs, and for the ANRW.
    *   **Sponsors**: Akamai, Comcast, Cloudflare, and Netflix.
    *   **Call for Support**: Interested sponsors and applicants are encouraged to visit the travel grants webpage or contact the IRTF Chair.

### ANRP Talk 1: Taurus: A Data Plane Architecture for Per-Packet Machine Learning (Tushar Swami)
*   **Problem**: Modern networks require increasingly complex and high-performance management. Machine Learning (ML) is a promising solution.
*   **Taurus Concept**: Proposes splitting ML operations: training occurs in the control plane (off the critical path), while inference (decision-making) happens per-packet, at line rate, in the data plane.
*   **Rationale for Data Plane Inference**: Control plane latency is too high for per-packet critical applications (e.g., anomaly detection). An estimated 1.5 million packets could be missed while waiting for control plane rule installation, significantly degrading performance and robustness.
*   **Hardware Architecture**: Modifies a Protocol Independent Switch Architecture (PISA) by adding a reconfigurable MapReduce Unit.
    *   **MapReduce Unit**: Supports common linear algebra operations (neural networks, SVMs, k-means) using SIMD parallelism and loop unrolling for high performance.
    *   **Integration**: Packet parsers extract features for ML, and match-action tables are used for rule-based pre-processing (feature cleaning) and post-processing (interpreting ML results and taking action).
*   **Design Considerations**: The MapReduce unit is designed to be reconfigurable, operate at line rate with a fixed clock, have minimal area/power overhead, and handle a batch size of one (per-packet).
*   **Evaluation (ASIC Analysis)**: Based on a coarse-grain reconfigurable architecture (Plasticine), a 12x10 compute grid showed only 3.8% area overhead for a range of ML applications. For anomaly detection (SVM, DNN), it achieved 1 Gigapacket per second (GPPS) throughput with latencies in the hundreds of nanoseconds and less than 1% area/power overhead.
*   **Open-Source FPGA-based Testbed**: An FPGA-based "bump-in-the-wire" testbed (using a Tofino switch and an FPGA) was developed as a proof-of-concept for functionality, though not full line-rate performance.
*   **Testbed Demo (Anomaly Detection)**: Demonstrated that data plane anomaly detection via Taurus maintained an F1 score of 71.1% (matching the software baseline), whereas control plane-based detection dropped to 0-1.5% F1 score due to significant packet loss from latency.
*   **Q&A Highlights**:
    *   **Detectable Anomalies**: Features are not limited to packet headers; control plane can install metadata, and match-action tables can perform aggregate calculations over time.
    *   **Delay of Model Updates**: Model training is an offline, asynchronous process. While developing models for entirely new attack classes has a high initial cost, the deployment and inference are rapid.
    *   **Energy Consumption**: While the switch itself might see a minimal power increase, the overall network energy consumption could decrease by offloading ML from external servers to specialized in-network hardware.
    *   **IETF Implications**: This work suggests a need for IETF standardization around packet header fields used as ML features or for carrying model weights. There's also potential for a standardized programming model (e.g., a P4 extension) for data plane ML elements.

### ANRP Talk 2: Performant TCP for Low-Power Wireless Networks (Sam Kumar)
*   **Context**: Low-Power Wireless Personal Area Networks (LowPANs) adopted IP (via 6LoWPAN) but largely eschewed TCP, relying instead on UDP-based protocols like CoAP due to perceived unsuitability of TCP.
*   **Research Goal**: To demonstrate that TCP can work well in LowPANs, enabling a full IP-based architecture and fostering broader adoption.
*   **Research Artifact**: `tcplp`, a re-engineered, performant TCP stack for embedded LowPAN devices.
*   **Performance**: `tcplp` achieved significantly higher goodput than previous TCP attempts in LowPANs, approaching theoretical upper bounds.
*   **Impact**: OpenThread (Google's LowPAN stack for smart homes) has adopted `tcplp` as its default TCP implementation, influencing the Thread network standard.
*   **LowPAN Challenges**: Embedded devices have limited CPU/memory. The IEEE 802.15.4 link layer has a small MTU (~100 bytes) and low wireless range, necessitating multi-hop mesh networks. Energy constraints mandate low-duty cycle radios.
*   **Dispelling Prior Concerns**:
    *   **"TCP is too heavy"**: `tcplp` uses 32KB code and 0.5KB data memory per connection. The primary overhead is buffers (2-3KB for bandwidth-delay product), which are essential for any bulk transfer protocol.
        *   **Memory Optimization**: Receive and reassembly buffers are combined into a single, statically-sized flat array using a bitmap for out-of-order data, avoiding dynamic memory allocation.
    *   **"Poor performance with wireless loss" (Wireless TCP Problem)**: LowPANs have small bandwidth-delay products, resulting in only 4-12 in-flight TCP segments. TCP's congestion control quickly recovers from losses, making it surprisingly resilient to wireless losses in these networks.
*   **Actual Reasons for Poor Performance and Proposed Solutions**:
    *   **Small L2 Frame Size (MTU)**: TCP/IP headers are large relative to the small 802.15.4 MTU (104 bytes).
        *   **Solution**: `tcplp` allows TCP segments to *span* multiple link-layer frames, leveraging 6LoWPAN fragmentation/reassembly. Optimal gains are observed at 3-5 frames per segment, balancing overhead amortization with fragmentation loss risk. (Opportunity for future work: TCP header compression in 6LoWPAN).
    *   **Hidden Terminals (Multi-Hop Wireless)**: In multi-hop chains of wall-powered nodes, concurrent transmissions from non-hearing nodes can collide at intermediate hops. RTS/CTS mechanisms are often too expensive.
        *   **Solution**: Introduce a randomized backoff delay between link-layer retries. If a transmission fails, the node waits a random amount (e.g., 0-10 times the frame transmission time) before retrying, even if the channel appears clear. This reduced packet loss from 6% to 1% (optimal delay found at ~40ms).
    *   **Poor Interaction with Link-Layer Scheduling (Low Duty Cycle)**: Receiver-initiated duty cycle protocols (e.g., in OpenThread) where a battery-powered node sends a "data request" to a wall-powered node, can cause significant latency. TCP's ACK-clocking or multi-RTT interactions (like HTTP over TCP) can consistently hit worst-case sleep cycles.
        *   **Solution**: Adaptive duty cycle. The battery-powered node varies its data request frequency based on TCP/HTTP protocol state. For example, it sends requests more frequently when expecting an HTTP request after accepting a connection. This nearly eliminated the performance gap between HTTP over TCP and CoAP.
*   **Overall Evaluation**: `tcplp` significantly outperforms prior TCP implementations in LowPANs in terms of goodput. In energy efficiency, it performed comparably to CoAP (approx. 2% radio duty cycle for a 24-hour sense-and-send task).
*   **Conclusions**: TCP is a viable and performant option for LowPANs.
    *   Reconsider the use of specialized lightweight protocols that merely emulate TCP's functionality, favoring the more interoperable and broadly used TCP.
    *   TCP can simplify LowPAN network design by enabling true end-to-end connectivity without requiring specialized application-layer gateways, potentially allowing consolidation of border routers.
    *   UDP-based protocols will still have their place for highly specialized applications where they offer substantial performance gains, but for many use cases, TCP is now a competitive alternative.
*   **Q&A Highlights**:
    *   **QUIC Comparison**: Many of the solutions (hidden terminals, link layer scheduling) are generic to bulk data transfer, suggesting similar benefits for QUIC.
    *   **Memory Guarantee**: `tcplp` is designed to avoid dynamic memory allocation for buffers.
    *   **Interoperability**: `tcplp` is built on FreeBSD's mature TCP stack, ensuring interoperability with unmodified internet hosts. All `tcplp` modifications are local to the LowPAN device or link layer.
    *   **Forwarding Buffer Stress**: Higher TCP throughput puts more stress on intermediate router buffers. This is mitigated by Active Queue Management (AQM) using Explicit Congestion Notification (ECN) to keep queues short, improve fairness, and limit buffer usage.
    *   **Link Layer Constraints**: Some solutions, like randomized backoff for hidden terminals, directly impact the link layer. 6LoWPAN handles packet reordering and reassembly when segments span multiple frames.
    *   **CoAP Justification**: CoAP emerged to address the unsuitability of HTTP/1.1 for IoT RESTful interfaces. While HTTP/2 and HTTP/3 (QUIC) offer binary, compressible alternatives, the work suggests TCP can still be a viable and interoperable option for many scenarios where CoAP is used for streaming or block transfers.

## Decisions and Action Items

*   **Decision**: Curtis Heimerl was welcomed as the new co-chair for the Global Access to the Internet for All (GAIA) Research Group, succeeding Leandro Navarro.
*   **Decision**: The Applied Networking Research Prize (ANRP) was awarded to Tushar Swami and Sam Kumar for their outstanding contributions.
*   **Action Item (Community)**: Nominate excellent applied networking research for the 2023 ANRP awards, with nominations opening in September 2022.
*   **Action Item (Community)**: Attend the Applied Networking Research Workshop (ANRW) co-located with IETF tomorrow, or other IRTF Research Group sessions later in the week.
*   **Action Item (IRTF Chair)**: Continue seeking sponsors for IRTF travel grants.

## Next Steps

*   **ANRP Award Talks**: Future ANRP award talks by Sumi Kasha and Daniel Wagner are scheduled for IETF 115 in London (November).
*   **ANRW 2023**: The Applied Networking Research Workshop will again be co-located with IETF in July 2023 in San Francisco.
*   **Standardization Potential (Taurus)**: Explore potential IETF standardization for packet header fields relevant to ML features/model weights and for a programming model (e.g., P4 extensions) for data plane ML.
*   **TCP in LowPANs (tcplp)**: Continue encouraging adoption of `tcplp` in LowPAN stacks and further research into TCP header compression for 6LoWPAN, as well as exploring HTTP/2 and HTTP/3 (QUIC) in these environments.