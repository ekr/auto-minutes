**Session Date/Time:** 20 Mar 2025 06:00

# mlcodec

## Summary

The IETF 122 mlcodec working group session in Bangkok focused on progressing three key drafts: the Opus extension mechanism, Deep Redundancy (DRED), and speech coding enhancements. The session also included a proposal for adoption of a new scalable quality extension draft. Key outcomes included plans to proceed with working group last calls for the opus extension draft and continued refinement of DRED specifications.

## Key Discussion Points

### Opus Extension Draft
- **Frame Separator Issue**: Tim presented a fix for handling frame separators with explicit increment of zero in the repeat extensions mechanism
- The issue arose from discrepancy between specification text and implementation regarding which extensions get repeated
- **Proposed Solution**: Frame separators with zero increment should be treated like padding, not updating the repeat pointer
- Editorial improvements needed for clarity around extension vs. extension payload terminology
- Decision made not to pursue complex extension numbering proposals due to excessive complexity

### Deep Redundancy (DRED) Draft
- **Training Documentation**: Jean-Marc added training procedure documentation to the Opus repository with scripts for dataset download and processing
- **Weight Standardization Discussion**: 
  - Current weights are INT-8 quantized from FP-32 training
  - Decision that implementers must use exact standardized weights (or quantizations), cannot train their own models
  - Test vectors will be mandatory normative requirement in addition to weight specifications
- **Vocoder Standardization Challenge**: Four options discussed for defining vocoder features:
  1. Reference vocoder with deviation allowance
  2. Objective metrics on vocoder synthesis  
  3. Invert vocoder to match decoded features
  4. Standardize features independently
- Jean-Marc plans to attempt option 3 (vocoder inversion approach)

### Speech Coding Enhancements
- No presentation due to Yon's unavailability
- No substantive changes reported since becoming working group document
- Ongoing work may result in future updates

### Scalable Quality Extension (Individual Draft)
- **New Proposal**: Jean-Marc presented draft for extending Opus beyond current limitations
- **Capabilities**: Support for >8 bits depth per band, >20kHz bandwidth, up to 500 kbps per channel
- **Implementation**: Uses extension mechanism with entropy-coded payload, maintains RFC 6716 compatibility
- **Technical Approach**: 
  - PVQ refinement using upscaled codebook values
  - Scalar parameter refinement for fine energy and angles
  - Linear 2kHz bands above 20kHz (14 bands total for full 48kHz)
  - New cubic codebook for high bands at high bit rates
- **Performance**: Achieves -115dB THD+N at 480 kbps per channel
- **Backward Compatibility**: Base layer identical to original Opus, passes existing test vectors

## Decisions and Action Items

### Opus Extension Draft
- **Action**: Tim to publish update implementing frame separator fix and editorial improvements
- **Timeline**: One month (mid-April)
- **Decision**: Proceed with working group last call after Tim's update

### DRED Draft  
- **Action**: Jean-Marc to develop test vectors as normative requirement
- **Action**: Add training procedure documentation to draft (not just repository)
- **Action**: Specify both FP-32 original weights and INT-8 quantized weights
- **Action**: Resolve vocoder standardization approach before next meeting
- **Decision**: Both standardized weights AND test vector compliance will be normative requirements

### Scalable Quality Extension
- **Decision**: Chairs will initiate working group adoption call on mailing list
- **Action**: Working group members to review draft and provide feedback on adoption

## Next Steps

- **Immediate**: Working group adoption call for scalable quality extension draft
- **Mid-April**: Updated opus extension draft publication followed by working group last call
- **Next Meeting**: DRED vocoder standardization resolution and potential updates to speech coding enhancements
- **General**: All documents significantly behind milestone schedule - acceleration needed before Madrid meeting

The working group emphasized the need to accelerate progress on all work items to meet charter obligations and prepare documents for IESG review.