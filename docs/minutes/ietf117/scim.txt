**Session Date/Time:** 26 Jul 2023 22:30

# scim

## Summary

The SCIM working group session covered several key topics, including the SCIM device schema, orchestrator roles, cursor pagination updates, group membership management, change detection mechanisms, and SCIM events. Discussions centered on refining existing drafts, addressing open issues, and exploring potential solutions for scalability and efficiency challenges within the SCIM framework. Several calls for feedback and potential working group last calls were announced.

## Key Discussion Points

*   **SCIM Device Schema:** Review of the SCIM device schema, including core and extension schemas (BLE, EZ Connect, Zigbee, Endpoint Applications). Discussion on cleanup tasks, introduction clarity, and addressing inconsistencies in regular expressions and formatting issues. The upcoming release of OSS code for experimentation and a potential hackathon in Prague were highlighted.
*   **Orchestrator Roles:** Introduction of orchestrator roles (resource creator, resource manager, resource subscriber) to define data flow in SCIM interactions. The discussion covered resource objects, resource attributes, triggers, and SCIM actions.
*   **`/me` endpoint**: Discussion on whether the `/me` endpoint is still relevant, several participants noted they would not implement it and it introduces problems with cross-organizational efforts.
*   **Cursor Pagination:** The current state of the cursor pagination draft was discussed, with a proposal to move towards working group last call after minor edits in response to HTTP DIR review.
*   **Group Membership Management:** Challenges related to managing large group memberships represented by multi-valued attributes were discussed. Potential solutions included pagination for multi-valued attributes, a new resource type specifically for group memberships (`/groupmembers`), or representing multi-value attributes as sub-resources. The alternative of flipping the relationship and storing group memberships on user objects was also suggested.
*   **Change Detection:** Two approaches for change detection were presented: timestamp-based filtering and watermark-based approach. Timestamp method has been implemented in the past, but issues with clock drift. The discussion covered the requirements for a change detection query (retrieving modified resources, conveying deleted resources, handling group membership changes, and scalability). Different perspectives emerged on the desirability of client-specific delta tokens and the integration with cursor-based pagination.
*   **SCIM Events:** Updates to the SCIM events specification, including restructuring the event URI. A discussion on asynchronous SCIM requests and the use of the "Prefer" header to allow long operations without blocking.

## Decisions and Action Items

*   **SCIM Device Schema:** Elliot to submit the document as an IETF draft.
*   **Cursor Pagination:** Issue a working group last call for the cursor pagination draft.
*   **Orchestrator Roles:** Tamela and Paulo submit their new draft on data tracker and post to the working group mailing list for feedback.
*   **Group Membership:** Danny to email mailing list to discuss group membership management with other team members
*   **Change Detection:** Danny to draft and send document with input sought from participants.
*   **SCIM Events:** Phil to implement recommendations from Dvaitha and update the spec.

## Next Steps

*   Submit drafts to the data tracker and post to the working group mailing list for feedback and adoption calls.
*   Continue discussions on the mailing list regarding group membership management, change detection, and SCIM events.
*   Explore potential implementations and interoperability testing for the discussed features.
