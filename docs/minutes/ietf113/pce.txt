**Session Date/Time:** 21 Mar 2022 12:00

# pce

## Summary

The PCE working group held its first session, focusing on the status of various drafts, upcoming Working Group Last Calls (WGLC), and new adoptions. Key discussions included the progression of documents post-WGLC, the ongoing review of PCEP YANG, and specific presentations on Local Protection Enforcement, SR-MPLS Entropy Label Position (ELP), and IFIT extensions. The working group also reviewed its adoption queue and emphasized the importance of mailing list participation and document reviews.

## Key Discussion Points

### Working Group Status Update
*   **Post-ISG Review:** `draft-ietf-pce-pcc-psap-flowspec` has an outstanding IESG review, with most issues cleared. `draft-ietf-pce-binding-label-sid` is also under IESG review and is progressing well.
*   **Errata:** A valid errata for RFC 8664 regarding a flag description bit issue is being addressed.
*   **IANA Allocations:** Four drafts are awaiting IANA code point allocations, with three recently renewed and one new. Chairs encouraged asking for help if new allocations are needed for implementations.

### Documents Nearing Working Group Last Call (WGLC) or ISG Review
*   **Stateful GMPLS (`draft-ietf-pce-stateful-gmpls`):** Awaiting author rework based on shepherd review comments. Authors confirmed an update is expected in 1-2 weeks.
*   **VN Association (`draft-ietf-pce-vn-association`):** Awaiting author handling of WGLC comments before shepherd review. A mailing list thread on ASCII use in PCEP was initiated, and inputs are requested.
*   **PCEP YANG (`draft-ietf-pce-yang`):** A new version was posted in January, incorporating changes for IP address no-zone use and a request to reset PCEP statistics. A new YANG Doctor review has been requested, and the document is nearing WGLC, with all dependencies also progressing.
*   **SRv6 (`draft-ietf-pce-srv6-inst-info`):** Updated to fix the errata found in RFC 8664 (F-bit issue) and address comments on SID structure and optional fields in SRv6 EROs. This document is a normative reference for `draft-ietf-pce-binding-sid` and needs to be prioritized for WGLC. Working group review is strongly encouraged.
*   **PCEP Native IP Extension (`draft-ietf-pce-native-ip`):** Authors made two updates, presented at IDR interim, and requested comments on the IDR list. Nearing WGLC, which will involve cross-posting to both IDR and PCE mailing lists.
*   **Flex-Grid (`draft-ietf-pce-flexigrid`):** No significant technical changes for a long time. Chairs queried authors on pending issues and additional review steps.
*   **Enhanced Errors (`draft-ietf-pce-enhanced-errors`):** No recent changes. The WG is seeking feedback on its progression: whether to make it experimental, wait for implementations, or coordinate with authors of `draft-ietf-pce-stateful-interdomain` as a potential user. Feedback is requested on the mailing list.
*   **SR Path Segment (`draft-ietf-pce-sr-path-segment`):** No big technical changes; work aligned with recent binding SID updates. Chairs requested authors and WG to confirm no open issues.
*   **SR Bidirectional Path (`draft-ietf-pce-sr-bidir-path`):** Work seems stable. Chairs asked for confirmation of no open issues, potentially ready for WGLC.
*   **SR Policy (`draft-ietf-pce-sr-policy`):** No update since the last IETF. Authors requested to align work with Spring and IDR.
*   **PCC SR (`draft-ietf-pce-pcc-sr`):** Minor update; more reviews are requested.
*   **Stateful Interdomain (`draft-ietf-pce-stateful-interdomain`):** Chairs suggested authors explore using features from `draft-ietf-pce-enhanced-errors` as a potential entry point for both documents.
*   **Extended Flags in LSP (`draft-ietf-pce-lsp-extended-flags`):** Considered important due to dependencies from other documents assigning flags. Progression is prioritized.
*   **Multipath (`draft-ietf-pce-multipath`):** Received a significant revision, adding reverse path info (iflag), text on path ID 0, and addressing comments related to SR bidirectional association. Authors requested to discuss changes on the mailing list for wider review.
*   **State Sync (`draft-ietf-pce-state-sync`):** No update.
*   **Optional Fields (`draft-ietf-pce-optional-fields`):** No recent update, but working group adoption comments were handled. Seeking further feedback on mailing list.
*   **SR P2MP Policy (`draft-ietf-pce-sr-p2mp-policy`):** No update since adoption. Need to ensure alignment with related work in PIM, Spring, and IDR.
*   **L2 Flow Spec (`draft-ietf-pce-l2-flowspec`):** Separated from PCEP Flowspec, updated for alignment with RFC 9168 and IDR Flowspec v2.
*   **SID Algo (`draft-ietf-pce-sid-algo`):** Adopted with pending comments; authors requested to address them.

### Document Presentations
1.  **Local Protection Enforcement (`draft-ietf-pce-local-protection-enforcement`):**
    *   **Status:** Adopted in 2020, code point reallocated. Draft is technically stable, seeking WGLC.
    *   **Discussion:** An open comment regarding generalizing the conflict of enforcement for the E-bit flag (new flag for strictly controlling local protection) was discussed. The question was whether to generalize it for all attributes or proceed as is. The document `draft-ietf-pce-optional-fields` covers object enforcement, but not attribute flags. A suggestion to move object flags into TLVs, similar to RFC 5420, was raised but not adopted.
    *   **Outcome:** The consensus was to allow the E-bit flag to be defined as it is in the current document. The generalization of attribute flag enforcement can be handled in a separate document (e.g., updating `pce-optional-fields`).
    *   **Action:** Authors to check language usage (e.g., "must constraint," "may constraint") for clarity.
    *   **Implementation Status:** Nokia and Cisco have engineering loads.

2.  **PCEP Extension for SR-MPLS Entropy Label Position (ELP) (`draft-ietf-pce-sr-mpls-elp`):**
    *   **Status:** Presented multiple times, numerous comments from mailing lists and meetings addressed. Updates include moving D-bit to LSP extended flags, clarifications on MSD and ERLD limitations/requirements, ingress capability (E-bit for multiple IELPs), and position calculation.
    *   **Latest Changes:** Clarifications on PC obtaining MSD/ERLD capabilities, adding references to IGP extensions (ISIS, OSPF), removal of minimum ERLDTLV (not necessary), and synchronization with HP protocol extensions.
    *   **Motivation:** RFC 8662 suggests PC computation for end-to-end paths and entropy label positions, especially in inter-domain scenarios.
    *   **Proposed Extensions:** PC collects MSD/ERLD via IGP, E-bit in SRPC capability indicates support for SR path computation with ELP and multiple IELP insertion. E-bit in LSP extended flag requests PC to compute SR path with ELP. E-bit in SRERO sub-object indicates ELP insertion position.
    *   **Readiness:** Authors believe all comments are resolved, and the document is ready for adoption, especially as the related BGP extension is in the adoption queue.

3.  **PCEP Extensions for IFIT (`draft-ietf-pce-ifit`):**
    *   **Motivation:** IFIT methods (e.g., IOAM, alternate marking) are becoming common for SR-MPLS and SRv6. PCEP extensions allow signaling IFIT capabilities and feature activation.
    *   **Proposed Extensions:** Defines `IFIT-Capability` TLV in Open object with five flags (four for IOAM, one for alternate marking). Defines `IFIT-Attributes` TLV for LSP objects, including five sub-TLVs (four for IOAM, one for alternate marking) for configurable nodes.
    *   **Latest Changes:** Revised IANA considerations, added subsections for PCEP TLV types, capability flags, attribute sub-TLVs, enhanced alternate marking flags, and PSI period code.
    *   **Relevance:** Complements SR Policy CT draft to enable SR policy with native IFIT.
    *   **Readiness:** Authors state all received comments have been addressed. The document is in the working group adoption queue. Chairs reminded authors to maintain alignment with IFIT work in other WGs (RPPM, IDR).

### Working Group Adoption Queue
*   The updated adoption queue is on the wiki.
*   Next in queue: `path-mto`, `srv6-yang`, `ifit`, and `pcc-srv6` work.
*   Authors believing their document is ready for adoption should notify chairs.

## Decisions and Action Items

*   **Local Protection Enforcement (`draft-ietf-pce-local-protection-enforcement`):**
    *   **Decision:** The E-bit flag for local protection enforcement will be defined as is in the current document. Generalization of attribute flag enforcement can be handled by updating `draft-ietf-pce-optional-fields` or in a separate document.
    *   **Action Item:** Andrew to review and potentially refine the language used for flag descriptions (e.g., "must constraint," "may constraint").
    *   **Action Item:** Chairs to prioritize this document for WGLC, considering the IANA code point renewal deadline, after authors incorporate the last set of comments.
*   **SR-MPLS Entropy Label Position (ELP) (`draft-ietf-pce-sr-mpls-elp`):**
    *   **Action Item:** Chairs (Julian/Hari) to discuss and update the wiki for adoption consideration.

## Next Steps

*   **Mailing List Participation:** Working group members are urged to actively participate in mailing list discussions, particularly for WGLC and adoption polls, and to provide technical reviews.
*   **Document Reviews:** Specific calls for reviews were made for `draft-ietf-pce-srv6-inst-info`, `draft-ietf-pce-enhanced-errors`, `draft-ietf-pce-multipath`, `draft-ietf-pce-sr-path-segment`, `draft-ietf-pce-sr-bidir-path`, and `draft-ietf-pce-pcc-sr`.
*   **Stateful GMPLS:** Await author update in 1-2 weeks.
*   **VN Association:** Await author handling of WGLC comments. Participate in the ASCII thread.
*   **PCEP YANG:** Await YANG Doctor review; prepare for WGLC.
*   **SRv6:** Prioritize WG review for progression to WGLC.
*   **Enhanced Errors:** Provide feedback to chairs on progression strategy.
*   **IFIT:** Await progression in the adoption queue. Authors to ensure alignment with other working groups.
*   **SID Algo:** Authors to address pending adoption comments.
*   Chairs will continue to manage the adoption queue and facilitate document progression towards WGLC and RFC publication.

---

**Session Date/Time:** 22 Mar 2022 12:00

# pce Session Minutes

## Summary

The PCE working group held its second session, covering several drafts focused on extending PCEP capabilities for advanced traffic engineering scenarios. Key discussions included defining "circuit-style" policies for segment routing (SR) networks, proposing PCEP extensions to support these policies, introducing VLAN-based traffic forwarding in native IP networks using PCEP, and presenting PCEP procedures for PCE-based multicast and BIER (Bit Indexed Explicit Replication) deployments. Several drafts were discussed, with a general call for continued engagement on the mailing list for technical clarifications and potential adoption.

## Key Discussion Points

*   **Circuit Style Segment Routing Policies (Christian Schmutzer)**
    *   **Objective:** Enable SR networks to support both connectionless and connection-oriented services (e.g., private lines, TDM-like guarantees).
    *   **Requirements:** Persistent traffic-engineered paths, strict bandwidth commitments, end-to-end path protection (e.g., sub-50ms), and OAM.
    *   **Characteristics:** Bundling of bi-directional SR policies with bandwidth requests, co-routing, strict hops using unprotected adjacency SIDs, no re-optimization, and multiple candidate paths for recovery.
    *   **Proposal:** Leverages existing PCEP mechanisms (bandwidth object, bi-directional association object, SR policy association) and IGP/BGP-LS extensions for topology and bandwidth dissemination. Informational draft, grouping existing constructs.
    *   **Discussion:**
        *   Clarification on "circuit-style" term, suggesting "bandwidth guarantee" might be more precise for packet-switched networks. The intent is admission-controlled, highest-priority bandwidth.
        *   The "50ms restoration" is used colloquially to mean "as fast as possible" with pre-established paths, acknowledging latency bounds.
        *   Query regarding PCE architecture (single vs. multiple collaborating PCEs) for managing bandwidth-guaranteed paths, referencing the PC State Sync draft.
        *   Questioned if the work is PCEP-specific or a broader SR policy concept better suited for the SPRING WG. Authors acknowledged it might be broader.
        *   Discussion on the utility of stateful PCE if path re-computation (pinning) is explicitly disallowed.

*   **PCEP Extensions for Circuit Style SR Policy (Samuel Cyriac)**
    *   **Objective:** Define PCEP extensions to realize the requirements of circuit-style SR policies.
    *   **Strict Path Request:**
        *   For stateless messages, clarifies existing 'L' flag in RP object to mean strict adjacency SIDs for SR.
        *   For stateful messages, proposes a new 'O' flag in LSP Extended Flags TLV for both SR and RSVP, indicating a strict path request.
    *   **Path Computation Trigger Control:**
        *   Introduces a new TLV for `Path Computation Triggers` with flags to block recomputation due to topology changes or periodic optimizations, aiming for path persistency.
    *   **Discussion:**
        *   Suggestions to use a single "lock/pin path" bit instead of multiple flags for triggers, though higher granularity was noted as a benefit.
        *   Discussion on how PCE should react if bandwidth guarantees are violated (e.g., link capacity drop). Proposed clarifying that if an LSP is deemed "down," PCE *can* recompute, potentially adding a flag for "recompute if LSP is invalid."
        *   Working group discussion was requested on whether to use specific TLVs for well-known policies or a more generic policy association mechanism.

*   **PCEP Extension for VLAN based Traffic Forwarding in Native IP Network (You Ning)**
    *   **Objective:** Define PCEP extensions for VLAN-based traffic forwarding in native IP networks, building on RFC 9050.
    *   **Mechanism:** PCE calculates explicit routes. Ingress PCC creates VLAN Forwarding Routing Tables (VFRT). Transit/Egress PCCs create VLAN Crossing Routing Tables (VCRT). Guaranteed traffic is matched, labeled with VLAN tags, and forwarded. Egress removes the VLAN tag.
    *   **Advantages:** Uses a new address space (VLANs) to avoid conflicts with MPLS labels and bypasses SRv6 encapsulation overhead.
    *   **Discussion:**
        *   A key concern was raised by the chair regarding whether defining VFRT/VCRT structures and forwarding logic falls within the PCE WG's charter, as this touches on data plane specifics. It was noted that previous native IP work was in the TEAS WG.
        *   Proponents argued that the tables are a "policy space" and the instructions from PCE to PCC are within scope.

*   **PCEP Procedures and Protocol Extensions for PCE-based Multicast (You Nian)**
    *   **Objective:** Manage IP Multicast, MRDDP, and SR Multicast trees using a PCE.
    *   **Process:**
        1.  **Multicast Tree Information Discovery:** Ingress registers sources, egress joins/leaves, using new PCEP objects/flags to carry tree identifiers and source/receiver information.
        2.  **Multicast State Setup and Updates:** Defines new TLVs (e.g., `Tree Forwarding Label Static TLV`, `VPN Forwarding Identifier TLV`) for CCI objects to assign labels/identifiers for P2MP LSPs and BIER trees. RSP object carries tree identifiers.
        3.  **Multicast Statistics Synchronization:** Briefly mentioned but not detailed due to time.

*   **PCEP for BIER (Rong Ge)**
    *   **Objective:** Use PCE for central allocation and PCEP for distribution of BIER information.
    *   **Mechanisms for BIFT generation:**
        1.  **With IGP:** PCE allocates per-PCC parameters (Subdomain ID, BFR ID, algorithms) via CCI and Encapsulation TLVs. PCC uses IGP to distribute.
        2.  **Without IGP:** PCE allocates all BIER information for each PCC, including neighbor and next-hop information via an `Address TLV`.
    *   **Protocol Extensions:** New 'B' bit in `PCECC Capabilities TLV`, new Path Setup Type, new CCI object type for BIER, and new optional TLVs (`BIER Encapsulation TLV`, `Address TLV`) within the CCI object. Reuses RFC 8664 FEC objects for BFR prefix.

## Decisions and Action Items

*   **Agenda Order:** The order of the first two presentations was swapped as requested by the authors.
*   **Mailing List Discussion for Circuit Style SR:** The chair requested further discussion on the mailing list regarding:
    *   Whether the "circuit style" SR policy concept should be generic (potentially in SPRING WG) or PCEP-specific.
    *   The use of stateful PCE when paths are intended to be "pinned" and not recomputed.
*   **Mailing List Discussion for PCEP Extensions for Circuit Style SR Policy:** The working group is encouraged to discuss the proposal for specific TLVs for well-known policies versus using a more generic policy association mechanism.
*   **Mailing List Discussion for VLAN based Traffic Forwarding:** The chair will discuss the scope of defining VFR/VCR tables and forwarding logic with the AD and requests further feedback from the working group on the mailing list regarding whether this falls within the PCE WG charter.
*   **Mailing List Discussion for PCE-based Multicast:** Comments on the draft are welcomed on the mailing list.
*   **Mailing List Discussion for PCEP for BIER:** Comments on the draft are welcomed on the mailing list.

## Next Steps

All authors and the working group are encouraged to continue discussions on the respective mailing list threads to resolve open questions, refine proposals, and build consensus for potential adoption or progression of the drafts.