<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IETF Meeting Minutes</title>
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <header class="site-header">
      <div class="header-content">
        <a href="/">
          <img src="/img/logo.jpg" alt="Logo" width="150" height="150">
        </a>
        <div class="header-text">
          <h1>Automatic IETF Minutes</h1>
          <p class="subtitle">Automatically generated minutes for IETF meetings</p>
        </div>
        <nav class="header-nav">
          <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>
          <ul class="menu">
            <li><a href="/">Home</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="https://github.com/ekr/auto-minutes">Source</a></li>
            <li><a href="/license">License</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <main class="main-content">
      <p><a href="privacypass.txt">Markdown Version</a> | <a href="https://meetecho-player.ietf.org/playout/?session=IETF113-PRIVACYPASS-20220324-1200">Session Recording</a></p>
<p><strong>Session Date/Time:</strong> 24 Mar 2022 12:00</p>
<h1>privacypass</h1>
<h2>Summary</h2>
<p>The privacypass session at IETF 113 focused on updates to the core architecture and authentication scheme drafts, as well as the introduction of a new draft for Rate Limit Tokens. Discussions covered deployment considerations, privacy implications, and specific technical changes to the challenge/response formats. A significant part of the session involved presenting and discussing the proposed Rate Limit Tokens protocol, including its motivation for anonymous fraud prevention and metered paywalls, and a call for working group adoption.</p>
<h2>Key Discussion Points</h2>
<ul>
<li>
<p><strong>Core Drafts Update (Architecture and Authentication Scheme)</strong></p>
<ul>
<li><strong>Architecture Draft</strong>
<ul>
<li>The latest revision explored deployment considerations and their impact on client privacy.</li>
<li>The architecture is split into an <strong>issuance protocol</strong> (client, attester, issuer) and a simpler <strong>redemption protocol</strong> (client, origin).</li>
<li>Introduced concepts of <strong>Redemption Context</strong> (origin name, timestamp, client IP, etc., seen by origin) and <strong>Attestation Context</strong> (timestamp, client IP, metadata, seen by attester).</li>
<li><strong>Meaningful privacy</strong> is defined as no single entity linking per-client and per-server information across these contexts.</li>
<li><strong>Deployment Models:</strong>
<ul>
<li><strong>Joint Deployment (Attester = Server):</strong> As in current Privacy Pass deployments (e.g., CAPTCHAs). Requires client separation over time (via unlinkable tokens like blind signatures/OPRFs) or space (via proxies/Tor) to achieve meaningful privacy.</li>
<li><strong>Split Deployment (Attester != Server):</strong> Useful for less privacy-friendly attestation mechanisms (e.g., account ownership). Lowers the privacy bar, as the attester and server do not share context. Attestation must not reveal per-server info, and redemption must not reveal per-client info.</li>
</ul>
</li>
<li><strong>Next Steps for Architecture Draft:</strong>
<ul>
<li>Address double-spend requirements for cross-origin tokens.</li>
<li>Update privacy parameterization based on the current architecture.</li>
<li>Address centralization (potentially punt to Mark's draft or integrate his text).</li>
<li>Consider working group last call or focus on issuance protocols.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Authentication Scheme Draft</strong>
<ul>
<li>Newly adopted; <code>01</code> version published with minor terminology changes.</li>
<li><strong>Terminology Renames:</strong>
<ul>
<li><code>redemption_nonce</code> field in the challenge structure was renamed to <code>redemption_context</code> to better reflect its purpose as a server-chosen context, not necessarily a nonce, for binding tokens.</li>
<li>A confusing context name in the token struct (returned to origin) was renamed to <code>challenge_digest</code>, as it is a hash digest of the challenge.</li>
</ul>
</li>
<li><strong>Stabilizing Format:</strong> Authors seek feedback now to stabilize the challenge and response format for deployment and interop.</li>
<li><strong>Challenge Structure (<code>private-token</code> HTTP auth scheme):</strong> <code>token_type</code>, <code>issuer_name</code>, <code>redemption_context</code> (optional), <code>origin_name</code>.</li>
<li><strong>Redemption Structure:</strong> <code>token_type</code>, <code>client_nonce</code>, <code>challenge_hash</code>, <code>token_key_id</code>, and issuance-protocol-specific bytes.</li>
<li><strong>Discussion on <code>origin_name</code>:</strong> Ted Hardy questioned allowing <code>opaque_origin_name</code> to appear multiple times or represent a list of origins (e.g., for Google/YouTube) to scope tokens more precisely than general cross-origin. Stephen suggested <code>origin_name</code> be an opaque blob whose interpretation is left to the use case.</li>
<li><strong>Origin (Server) Behavior:</strong> Simple challenge generation, choice of issuer(s) and token type (per/cross-origin). Optional <code>redemption_context</code> helps narrow double-spend prevention state (e.g., client IP hash, session ID).</li>
<li><strong>Client Behavior:</strong> Manage token caching (reuse, eligibility), clear cached tokens with cookie state, verify <code>origin_name</code> information.</li>
<li><strong>Next Steps for Auth Scheme Draft:</strong>
<ul>
<li>Address the discussion point regarding the <code>origin_name</code> field.</li>
<li>Continue polishing the document and interop testing.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Rate Limit Tokens Draft</strong></p>
<ul>
<li><strong>Motivation:</strong> Rate limiting is crucial for fraud prevention but often relies on privacy-invasive tracking (cookies, IP). Basic Privacy Pass tokens (attesting device legitimacy) are insufficient for cases like click farms or metered paywalls, leading to users still being blocked.</li>
<li><strong>Token Buckets:</strong> Refreshed understanding of token bucket mechanics for rate limiting (replenish tokens, remove tokens on request, capacity limits).</li>
<li><strong>Rate-limited tokens</strong> attest to both device legitimacy <em>and</em> that access rate for an origin is below a threshold, mitigating issues like click farms and enabling metered paywalls without user privacy loss.</li>
<li><strong>Protocol Overview:</strong>
<ul>
<li>Extends basic RSA blind signature issuance protocol.</li>
<li><strong>Requires Split Deployment:</strong> Attester and Issuer must be separate entities for meaningful privacy.</li>
<li><strong>Attester's Role:</strong> Sees client identity, maintains a counter, learns a stable mapping between client and <em>anonymized</em> origin identifier (using per-client and per-origin secrets). Does <em>not</em> learn the specific origin.</li>
<li><strong>Issuer's Role:</strong> Defines the rate limit (e.g., 3 times/hour) and informs the attester during issuance.</li>
<li><strong>Core Challenge:</strong> Computing the stable mapping (bucket identifier) in a privacy-preserving way so the attester doesn't learn the specific origin, but can still enforce per-client, per-origin rate limits.</li>
<li>Uses a &quot;signature scheme with key blinding&quot; (similar to an OPRF) to achieve this.</li>
<li><strong>Status:</strong> Operable implementations (ECDSA variant) exist. Security analysis is underway.</li>
</ul>
</li>
<li><strong>Discussion on Adoption:</strong>
<ul>
<li>Ben Schwartz questioned if standard Privacy Pass architecture could achieve similar goals (e.g., a magazine acting as issuer/validator issuing monthly tokens).</li>
<li>Authors clarified that Rate Limit Tokens address the <em>anonymous</em> case (e.g., fraud prevention during account creation) where users don't have existing accounts with the origin.</li>
<li>They highlighted the challenge of avoiding an issuer learning client browsing history if it maintains per-origin state for multiple services. The goal is to shard state and push accountability to an origin-funded entity, preventing a central attester from accumulating unbounded state or linking client activity across multiple origins.</li>
<li>Authors acknowledged that earlier, simpler designs compromised privacy (revealed origin info to attester) and encouraged suggestions for simpler solutions that maintain desired functional and privacy properties.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Decisions and Action Items</h2>
<ul>
<li><strong>Architecture Draft:</strong>
<ul>
<li><strong>Action:</strong> Address the open issue regarding double-spend requirements for cross-origin tokens.</li>
<li><strong>Action:</strong> Update privacy parameterization within the draft.</li>
<li><strong>Action:</strong> Discuss how to address the centralization issue, either by punting to Mark's separate draft or integrating his text into the architecture document.</li>
</ul>
</li>
<li><strong>Authentication Scheme Draft:</strong>
<ul>
<li><strong>Action:</strong> Address the discussion point on how to best handle the <code>origin_name</code> field, particularly for scenarios involving multiple related origins or opaque definitions.</li>
<li><strong>Action:</strong> Continue polishing the document and conducting interop testing.</li>
</ul>
</li>
<li><strong>Rate Limit Tokens Draft:</strong>
<ul>
<li><strong>Decision (Pending):</strong> The working group will continue discussion on the mailing list to determine interest in adopting this draft.</li>
<li><strong>Action:</strong> Authors encourage the community to propose simpler architectural solutions that maintain the desired functional and privacy properties.</li>
</ul>
</li>
</ul>
<h2>Next Steps</h2>
<ul>
<li>Continue discussions on the privacypass mailing list regarding the adoption of the Rate Limit Tokens draft and potential alternative designs.</li>
<li>Consider scheduling an interim meeting to discuss the Rate Limit Tokens draft and the consolidation of various issues across the core drafts.</li>
<li>Authors of the core drafts will proceed with the identified action items, aiming towards potential working group last call for the architecture document once key issues are resolved.</li>
<li>Authors of the Authentication Scheme draft will continue polishing the document and collaborating on interop testing.</li>
</ul>

      
    </main>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const toggle = document.querySelector('.menu-toggle');
        const menu = document.querySelector('.menu');

        toggle.addEventListener('click', function(e) {
          e.stopPropagation();
          menu.classList.toggle('show');
        });

        // Close menu when clicking outside
        document.addEventListener('click', function() {
          menu.classList.remove('show');
        });

        // Prevent menu from closing when clicking inside it
        menu.addEventListener('click', function(e) {
          e.stopPropagation();
        });
      });
    </script>
  </body>
</html>
